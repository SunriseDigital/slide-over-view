/*! slide-over-view 2013-07-22 12:49 */
!function(a){"use strict";window.Rect=function(a,b,c,d){void 0===c&&(c=0),void 0===d&&(d=0),this.size={width:a,height:b},this.offset={top:c,left:d}},Rect.window=a(window),Rect.document=a(document),Rect.prototype.center=function(){return{top:this.offset.top+this.size.height/2,left:this.offset.left+this.size.width/2}},Rect.prototype.contains=function(a){return a.offset.top>=this.offset.top&&a.offset.left>=this.offset.left&&a.offset.top+a.size.height<=this.offset.top+this.size.height&&a.offset.left+a.size.width<=this.offset.left+this.size.width},Rect.prototype.intersects=function(a){var b=Math.max(this.offset.left,a.offset.left),c=Math.max(this.offset.top,a.offset.top),d=Math.min(this.offset.left+this.size.width,a.offset.left+a.size.width),e=Math.min(this.offset.top+this.size.height,a.offset.top+a.size.height),f=d-b,g=e-c;return f>0&&g>0?new Rect(f,g,c,b):!1},Rect.prototype.equals=function(a){return a.offset.top===this.offset.top&&a.offset.left===this.offset.left&&a.size.height===this.size.height&&a.size.width===this.size.width},a.fn.extend({rect:function(b){if(void 0!==b)return this.each(function(){var c=a(this);c.offset(b.offset),c.outerWidth(b.size.width),c.outerHeight(b.size.height)});if(a.isWindow(this.get(0)))return new Rect(window.innerWidth,window.innerHeight,Rect.window.scrollTop(),Rect.window.scrollLeft());var c=this.offset();if(c)return new Rect(this.outerWidth(),this.outerHeight(),c.top,c.left);var d=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),e=Math.max(Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),Math.max(document.body.clientWidth,document.documentElement.clientWidth));return new Rect(e,d)},center:function(b){return void 0!==b?this.each(function(){var c=a(this),d={top:b.top-c.outerHeight()/2,left:b.left-c.outerWidth()/2};c.offset(d)}):this.rect().center()}})}(jQuery),function(a){"use strict";function b(a,b){a.removeClass("sovTransition"),a.addClass("sovNoTransition"),b&&setTimeout(b,0)}function c(a,b){a.removeClass("sovNoTransition"),a.addClass("sovTransition"),b&&setTimeout(b,0)}function d(a,b,c){a.offset(b),c&&setTimeout(c,1)}a.fn.extend({slideOverView:function(e){return this.each(function(){var f=a(this),g=a.extend({},e),h=a('<div class="sovWrapper sovHide sovNoTransition"></div>').appendTo("body").hide();f.appendTo(h).width("100%"),h.bind("transitionend webkitTransitionEnd",function(){console.log("trasend"),h.toggleClass("sovHide"),h.hasClass("sovHide")?(b(h),h.hide()):(h.data("sovPrevOffset",h.offset()),b(h,function(){g.body.hide(),h.offset({top:0,left:0}),Rect.window.scrollTop(0)})),h.removeClass("sovAnimating")}),f.data("slideOverView",{toggle:function(){if(!h.hasClass("sovAnimating"))if(h.width("100%"),h.addClass("sovAnimating"),h.hasClass("sovHide")){var a=Rect.window.rect();h.height(a.size.height).data("sovWindowRect",a).show();var b={top:a.offset.top+a.size.height+1,left:0};d(h,b,function(){c(h,function(){var b=a.size.height+1;h.css("transform","translateY(-"+b+"px)")})})}else{var e=h.data("sovPrevOffset");g.body.show(),e&&d(h,e,function(){Rect.window.scrollTop(h.data("sovWindowRect").offset.top),c(h,function(){h.css("transform","none")})})}}})})}})}(jQuery);